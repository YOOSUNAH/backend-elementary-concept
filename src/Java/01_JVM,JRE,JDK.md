# Java

---
### JVM, JRE, JDK 의 관계
* JDK는 JRE를 포함하고, JRE는 JVM을 포함하는 형태로 배포된다.
  * JDK(Java Development Kit)
  * 자바 개발 키트를 의미한다. , JVM용 소프트웨어 개발도구
  * JRE와 컴파일러(Compiler), 디버거(debugger) 또는 디버깅 툴, Jar도구, 프로파일러 등을 포함하는 프로그램이다.
* JRE(Java Runtime Environment)
  - 자바 실행 환경, JVM용 운영체제,  JVM이 동작하기 위한 환경을 만드는 것
  - Java Class Library, JVM, 그리고 Java Class Loader(로더)를 포함한다.
  - Class Loader와 Class Library를 통해 작성된 자바 코드를 Library와 결합 후에 JVM으로 넘겨서 실행을 시킨다.
  - JRE 그 자체로 기능이 있다기보다는 JVM이 동작하기 위한 환경을 만드는 것이다.
- JVM(Java Virtual Machine)
  - 자바 프로그램을 컴파일 해서 나온 결과인 **바이트코드를 실행시켜주는 가상 머신**이다.
  - ***JVM 만 설치되어 있다면 어디서든 자바 코드를 돌릴 수 있다는 점***
    - application을 실행시켜주는 가상머신을 사용함으로써, 윈도우,리눅스,맥 등 다양한 환경에서 언제나 동일하게 실행되도록 할 수 있다는 장점을 가지고 있다.
  - 프로그래머는 운영체제에 관계없이 프로그램을 개발할 수 있어, 한번 컴파일됐으면 운영체제에 따라 다시 컴파일할 필요가 없는 WORA(Write Once Run Anywhere)를 만족한다.
  - 자바 프로그램의 메모리를 효율적으로 관리 & 최적화 해 준다.
          * WAS는 Response 객체에 담겨있는 내용으로 HTTP 응답 정보를 생성'


---
추가설명
- 자바 프로그램이 어떻게 개발되고 구동되는 지를 알기 위해서는 **JVM(Java Virual Machine)**의 존재와 역할을 아는 것이 필수적이다.
- 먼저 "자바라는 언어를 활용하여 프로그램을 개발한다는 것"은 **JDK(Java Development Kit)**라고 하는 JVM용 소프트웨어 개발도구를 활용하여 프로그래밍하는 것을 의미한다.
- JVM은 이름 그대로 가상기계이며, 자바프로그램은 JVM이라고 하는 가상의 컴퓨터 위에서 실행되는 **JRE(Java Runtime Environment)**라는 JVM용 운영체제를 통해 실행되는 것이다.
- 이와 같은 연관관계를 고려했을 때, JVM, JRE, JDK 라고 하는 각각의 배포판들 끼리의 버전 충돌을 피하고 통합적으로 관리되어야 하는 편의를 위해, 일반적으로 JDK가 JRE를 포함하고 다시 JRE는 JVM을 포함하는 형태로 배포된다.
- JDK는 JRE를 포함하고, JRE는 JVM을 포함하는 형태로 배포된다.
- JVM을 사용하기 위한 라이브러리가 JRE이며, 일반적인 자바 프로그램을 실행하기 위해 사용되는 것이 JRE다. JDK는 JRE를 포함하고 있으며, 컴파일러와 디버거등이 포함된 버전이다.

- **JVM(Java Virtual Machine)**
  - ***JVM만 설치되어 있다면 어디서든 자바 코드를 돌릴 수 있다***
  - 자바 프로그램을 컴파일 해서 나온 결과인 **바이트코드를** 실행**시켜주는 가상 머신**이다.
    - 자바 코드를 해석해서 프로그램을 실행해주는 가상 머신
    - 프로그램을 실행하는 자바 플랫폼 구성요소이다.
  - **application을 실행**시켜주는 가상머신을 사용함으로써, **윈도우,리눅스,맥 등 다양한 환경에서 언제나 동일하게 실행되도록 할 수 있다는 장점을 가지고 있다.**
  - **프로그래머는 운영체제에 관계없이 프로그램을 개발할 수 있어, 한번 컴파일됐으면 운영체제에 따라 다시 컴파일할 필요가 없는 WORA(Write Once Run Anywhere)를 만족한다.**
  - **자바 프로그램의 메모리를 효율적으로 관리 & 최적화 해 준다.**
    - 과거에는, 같은 프로그램이지만 윈도우,리눅스,맥 등 사용하는 운영체제에 따라 다르게 작성되어야만 했다. JVM 덕분에 이를 하지 않아도 되게 된다.
    - Garbage Collection

      JVM이 메모리를 관리하는 프로세스를 지칭하는 용어, 자바 프로그램 상에서 사용하지 않은 메모리를 지속적으로 찾아 제거함으로써 효율적인 메모리 관리를 가능케 한다.

  - 자바로 작성된 모든 프로그램은 JVM에서만 실행될 수 있으므로, 자바 프로그램을 실행하기 위해서는 반드시 자바 가상 머신이 설치되어야 한다.
    1. Java Compiler가 JAVA로 작성된 소스코드`.java` 파일을 `.class`파일인 Byte Code로 **컴파일**한다.
       - Byte Code
       - 가상머신(JVM, CLR등)에서 사용되는 코드 개념으로, 가상머신이 이해할 수 있는 중간 레벨로 컴파일한 것을 말한다. 실행되기 위해서는 컴파일러(javac, csc.exe 등)에 의해 한번 더 변환되어야 한다. 바이너리 코드와 달리 어떠한 환경에 종속적이지 않고 실행 될 수 있다.
    2. 이제 이 Byte Code를 Binary Code(기계어)로 변환시키기 위해 가상 CPU가 필요한데, 이것이 **JVM** 의 역할이다.
       - Binary Code(기계어)
       - 컴퓨터가 인식하고 이해할 수 있는 0과 1로 구성된 코드이지만, 환경에 종속적이며 실행하지 못한다. ‘링커’에 의해 메모리 주소값을 반영하고 CPU가 직접 해독하고 실행할 수 있도록 수정되어야 기계어가 되는 것이기 때문에 가장 기계어와 유사한 레벨의 코드지만, 완전한 기계어는 아니다.
    3. **JVM**이 Byte Code를 Binary Code(기계어)로 변환한다.
    4. 이렇게 JVM에 의해 컴파일된 기계어는 바로 CPU에서 실행되어 사용자에게 서비스를 제공해준다.
    
- **JRE(Java Runtime Environment)**
  - **자바 실행 환경**을 의미한다.
  - JVM용 운영체제, JVM이 동작하기 위한 환경을 만드는 것
  - JVM을 동작하는데에 필요한 각종 **자바** **라이브러리를** 담고 있다.
  - **Java Class Library, JVM, 그리고 Java Class Loader(로더)를 포함한다.**
  - **Class Loader와 Class Library를 통해 작성된 자바 코드를 Library와 결합 후에 JVM으로 넘겨서 실행을 시킨다.**
  - **JRE 그 자체로 기능이 있다기보다는 JVM이 동작하기 위한 환경을 만드는 것이다.**
  
- **JDK(Java Development Kit)**
    - **자바 개발 키트**를 의미한다.
    - **JRE와 컴파일러(Compiler), 디버거(debugger) 또는 디버깅 툴**, Jar도구, 프로파일러 **등을 포함하는 프로그램이다.**
      - 자바 컴파일러 (`javac`, `java compiler`)
      - 컴파일러 compiler (번역기) : 특정 프로그래밍 언어로 쓰여 있는 문서를 다른 프로그래밍 언어로 옮기는 언어 번역 프로그램.
    - JVM용 소프트웨어 개발도구
    - 개발자들이 JVM과 JRE에 의해 실행되고 구동될 수 있는 자바 프로그램을 생성할 수 있게 도와주는 개발 환경 세트를 의미한다.
    - 오라클사에서 제공하는 오라클 JDK와 오픈소스로 개발된 OpenJDK가 있으나, 일반적으로 사용되는 것은 오라클 JDK이다.
    - 우리가 만든 자바 파일은 `.java`로 생성이 되지만 실행하기 위해서는 **컴파일을** 거쳐 `.class` 라는 파일이 생성되게 된다.

- **JDK와 JRE의 차이점:**
  - JDK가 자바 기반 **소프트웨어를 개발하기 위한 도구들로 이뤄진 패키지인** 반면,
  - JRE는 자바 **코드를 실행하기 위한 도구들**로 구성된 패키지라는 점이다.
    - = Java로 프로그램을 직접 개발하려면 JDK가 필요하고, 컴파일 된 Java 프로그램을 실행시키려면 JRE가 필요하다고 보면 된다.
  - JRE는 단지 자바 프로그램을 구동하기 위한 독립형 구성요소로써 사용될 수도 있지만, 동시에 JDK의 일부이기도 하다.