# Java

---
### 자바의 메모리 영역
* 일반적으로 프로그램은 "코드를 실행하는 영역"과 "데이터를 저장하는 영역"으로 구분하여 메모리를 사용한다
* (JVM의) **데이터 저장 영역은 다시 STATIC , STACK, HEAP 영역으로 분류된다.**
  
* **STATIC 영역**
  - **클래스들의 놀이터** (클래스에 대한 메타정보 저장 영역)
  - Java 파일은 크게 필드(field), 생성자(constructor), 메서드(method)로 구성되어 있고, Static영역에서는 그 중 필드 부분에서 선언된 `전역 변수`와`정적멤버변수(static이 붙은 자료형)`의 데이터를 저장한다.
  - JVM이 동작해서 클래스가 로딩될 때 생성되어, 프로그램의 시작부터 종료될 때까지 메모리에 남아있다.
  - **JVM이 읽어들인 클래스와 인터페이스 대한 런타임 상수 풀, 멤버 변수(필드), 클래스 변수(static 변수), 상수(final), 생성자(constructor)와 메소드(method) 등 을 저장하는 공간.**
- **STACK 영역**
  - **메서드들의 놀이터**
  - 메소드 내에서 정의하는 **기본 자료형 데이터에 해당되는 지역변수,** 메서드로 넘겨 받은 **매개변수**의 **데이터 값**이 저장되는 공간
  - **메소드가 호출될 때 생성되고 (메모리에 할당되고), 종료되면 메모리에서 사라진다.**
    - 메서드의 끝을 알리는 닫는 중괄호`}` 를 만나면 자동으로 메모리에서 제거된다.
- **HEAP 영역 : 객체들의 놀이터**
  - new를 통해 인스턴스 객체를 생성했을 때, Heap 영역에는 생성된 객체가 올라가고 , Stack영역에는 해당 객체에 대한 주소값(Referecne)이 저장된다.
  - 참조형(reference type)데이터 타입을 갖는 객체(인스턴스), 배열 등이 저장되는 공간이다.
  - **Heap 영역은 Stack영역과 다르게 보관되는 메모리가 호출이 끝나더라도 삭제되지 않고 유지된다. 그러다 어떤 참조변수도 Heap 영역에 있는 인스턴스를 참조하지 않게 된다면, GC(가비지 컬렉터)에 의해 메모리에서 청소된다.**
  - JVM이 관리하는 프로그램 상에서 데이터를 저장하기 위해 **런타임 시 동적으로 할당하**여 사용하는 영역
  - Stack은 스레드 갯수마다 각각 생성되지만, Heap은 몇개의 스레드가 존재하든 상관없이 하나의 Heap 영역만 존재
