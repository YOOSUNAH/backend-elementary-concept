# Programming

---
### 프로세스(Process)와 스레드(Thread)의 차이

***프로세스 (Process)***

| 프로그램 | 프로세스 |
| --- | --- |
| 어떤 작업을 하기 위해 실행할 수 있는 파일 | 실행되어 작업중인 컴퓨터 프로그램 |
| 파일이 저장 장치에 있지만 
메모리에는 올라가 있지 않은 정적인 상태 | 메모리에 적재되고 CPU 자원을 할당받아 프로그램이 실행되고 있는 상태 |
| 쉽게 말해 그냥 코드 덩어리 | 그 코드 덩어리를 실행한 것 |
- 프로그램을 실행 시켜 정적인 프로그램이 동적으로 변하여 **프로그램이 돌아가고 있는 상태**
- 컴퓨터에서 작업중인 프로그램을 의미하는 것
- 운영체제로부터 시스템 자원을 할당받는 작업의 단위
  - 시스템 자원 EX)
    - CPU시간
    - 운영되기 위해 필요한 주소 공간
    - Code, Data, Stack, Heap의 구조로 되어 있는 독립된 메모리 영역
- 각 프로세스는 *별도의 주소 공간에서 실행되며,* 한 프로세스는 다른 프로세스의 변수나 자료구조에 접근할 수 없다.
- 한 프로세스가 다른 프로세스의 자원에 접근하려면 프로세스 간 통신(IPC)를 사용해야 한다.
  - ex) 파이프, 파일, 소켓 등을 이용한 통신 방법
- 모든 프로그램은 운영체제가 실행되기 위한 **메모리 공간을 할당해 줘야 실행될** 수 있다. 그래서 프로그램을 실행하는 순간 파일은 컴퓨터 메모리에 올라가게 되고, 운영체제로부터 시스템 자원(CPU)을 할당받아 프로그램 코드를 실행시켜 우리가 서비스를 이용할 수 있게 되는 것이다.


- 각 프로세스는 생성되면서 **고유한 메모리 공간을 할당받는다.**
- 프로세스는 각각 독립된 **메모리 영역** (Code,Data, Stack,Heap의 구조)을 **할당받는다.**
  - code 영역 : 프로그래머가 작성한 프로그램이 저장되는 영역
  - data 영역: 코드가 실행되면서 사용한 환경이나 파일들의 각종 데이터들이 모여있다.
  - stack 영역: 호출한 함수가 종료되면 되돌아올 메모리의 주소나 지역 변수 등이 저장된다.
  - heap 영역: 동적으로 할당되는 데이터를 위해 존재한다.


- 여러 프로세스가 동시에 실행되고 관리되는 것처럼 보이지만, CPU는 한번에 한가지 명령밖에 처리할 수 없다. 즉, 동시가 아니라 빠르게 프로세스들을 번갈아가면서 실행하고 관리하고 있는 것이다.

***스레드 (Thread)***

- **하나의 프로세스 내에서 동시에 진행되는 작업 갈래, 흐름의 단위**
- 프로세스의 특정한 수행 경로
- **프로세스가 할당받은 자원을 이용하는 실행의 단위**
- 일반적으로 하나의 프로그램은 하나 이상의 프로세스를 가지고 있고, 하나의 프로세스는 반드시 하나 이상의 스레드를 갖는다.
- 비유) 크롬 브라우저가 실행 되면 프로세스 하나가 생성. 그런데 우리는 브라우저에서 파일을 다운 받으며 온라인 쇼핑을 하면서 게임을 하기도 한다. 즉, 하나의 프로세스 안에서 여러가지 작업들 흐름이 동시에 진행되기 때문에 가능한 것인데, 이러한 일련의 작업 흐름들을 스레드라고 한다.


- 프로세스는 최소 하나의 스레드를 보유하고 있으며, 각각 별도의 주소 공간을 독립적으로 할당 받는다.(code, heap, stack)
- 스레드는 이중에 stack만 따로 할당받고 나머지 영역(code,data,heap영역)은 스레드끼리 서로 공유한다.
  - 같은 프로세스 내 스레드끼리 자원(Heap 등)을 공유하며 실행된다.
  - 즉, 스레드는 공유하는 자원인 Heap영역에 있는 변수를 수정할 수 있다.

- **프로세스는 메모리 상에서 실행중인 프로그램을 말하며, 스레드는 이 프로세스 안에서 실행되는 흐름 단위를 말한다.**
  - 프로세스 : 자신만의 고유 공간과 자원을 할당받아 사용
  - 스레드 : 다른 스레드와 공간과 **자원을 공유**하면서 사용