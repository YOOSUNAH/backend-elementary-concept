**Session 세션**

- 세션은 일정 시간 동안 같은 사용자(클라이언트)로 부터 들어오는 일련의 요구를 하나의 상태로 보고 그 상태를 일정하게 유지시키는 기술이다.
- 세션은 쿠키를 기반으로 하지만 쿠키와 다르게 서버 측에서 저장하고 관리한다.

**Cookie 쿠키**

- **쿠키는 클라이언트(로컬)에 저장되는 키와 값이 들어있는 작은 데이터 파일이다.**
- 이러한 쿠키는 클라이언트(pc)에 저장되어 필요 시 **정보를 참조하거나 재사용**할 수 있다.
- HTTP의 비연결성(Connectionless)과 비상태성(Stateless) 특성 때문에 쿠키가 사용된다.

**사용자가 로그인할 때 세션과 쿠키는 어떻게 맞물려 동작하는가?**

Session은 쿠키에 비밀번호와 같은 인증 정보를 저장하지 않고, 대신 **JSESSIONID(session id)**라는 사용자 식별자를 정한다.

1. 클라이언트가 로그인을 시도한다.

   클라이언트에서 서버로 로그인을 요청하고, Header에서 사용자 식별 Id를 쿠키에 담아 전달한다.

   만일 쿠키에 SessionId 가 존재하지 않다면, 서버에 요청하여 SessionId를 받아 쿠키에 보관한다.

2. 로그인에 성공했을 경우, 서버는 클라이언트 공유 session-id를 생성하고 서버에 저장한다.
3. 서버는 클라이언트에게 session -id (쿠키) 를 전달한다.

   그러면, 클라이언트에서는 해당 쿠키를 저장해두고 사이트에 접속할 때마다 서버에 쿠키를 함께 전달한다.

4. 클라이언트는 session -id (쿠키) 를 가져오면 서버와 통신한다.
5. session-id가 유효한지 확인하며 클라이언트와 소통한다.